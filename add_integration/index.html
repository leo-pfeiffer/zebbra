
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../oauth_authentication/">
      
      
        <link rel="next" href="../gusto_example/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.2">
    
    
      
        <title>Integration Guide - Zebbra Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f56500e0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Zebbra Docs" class="md-header__button md-logo" aria-label="Zebbra Docs" data-md-component="logo">
      
  <img src="../assets/zebbra_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zebbra Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integration Guide
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Zebbra Docs" class="md-nav__button md-logo" aria-label="Zebbra Docs" data-md-component="logo">
      
  <img src="../assets/zebbra_icon.png" alt="logo">

    </a>
    Zebbra Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../project_setup/" class="md-nav__link">
        Project Setup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../oauth_authentication/" class="md-nav__link">
        OAuth 2.0 Authentication
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Integration Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Integration Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-a-new-integration" class="md-nav__link">
    Adding a new integration
  </a>
  
    <nav class="md-nav" aria-label="Adding a new integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0-automatic-starter-template-generation" class="md-nav__link">
    0. Automatic starter template generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-extending-the-integrationprovider-type" class="md-nav__link">
    1. Extending the IntegrationProvider type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-adding-oauth-connector-class" class="md-nav__link">
    2. Adding OAuth connector class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-adding-fetch-adapter" class="md-nav__link">
    3. Adding fetch adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-update-config" class="md-nav__link">
    4. Update config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gusto_example/" class="md-nav__link">
        Gusto Integration Example
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        Deployment
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-a-new-integration" class="md-nav__link">
    Adding a new integration
  </a>
  
    <nav class="md-nav" aria-label="Adding a new integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0-automatic-starter-template-generation" class="md-nav__link">
    0. Automatic starter template generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-extending-the-integrationprovider-type" class="md-nav__link">
    1. Extending the IntegrationProvider type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-adding-oauth-connector-class" class="md-nav__link">
    2. Adding OAuth connector class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-adding-fetch-adapter" class="md-nav__link">
    3. Adding fetch adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-update-config" class="md-nav__link">
    4. Update config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="integration-guide">Integration Guide</h1>
<p>Zebbra was built with the fact in mind, that different organizations use different systems for their payroll and accounting. Thus, it is possible to extend Zebbra by adding support for any other integration provider for either payroll or accounting management, as long as they offer an OAuth 2 authenticated REST API. This guide walks through the process of adding a new integration.</p>
<h2 id="adding-a-new-integration">Adding a new integration</h2>
<h3 id="0-automatic-starter-template-generation">0. Automatic starter template generation</h3>
<p>To facilitate the implementation process, we provide a script to generate starter files from templates. To get started simply run <code>make genereate_from_template INTEGRATION=&lt;integration_name&gt; API_TYPE=&lt;payroll | accounting&gt;</code> from the <code>server</code> directory.</p>
<p>This will generate the required starter files in the <code>core/integrations/adapters</code>and <code>core/integrations/oauth</code> directories.</p>
<h3 id="1-extending-the-integrationprovider-type">1. Extending the <code>IntegrationProvider</code> type</h3>
<p>The <code>IntegrationProvider</code> type is used across Zebbra as a type for valid integration provider names. To add a new provider, add its name to the <code>IntegrationProvider</code> variable in <code>core/schemas/integrations.py</code>. Note that the name must be strictly alphanumeric (i.e. <code>[A-Za-z0-9]+</code>).</p>
<h3 id="2-adding-oauth-connector-class">2. Adding OAuth connector class</h3>
<p>Secondly, you need to set up the OAuth authorization functionality for the OAuth app you want to integrate. Zebbra provides a framework for this with the abstract class <code>IntegrationOAuth</code>, which you can override to set up the workflow.</p>
<p>To set up a new integration workflow, create a new file in <code>core/integrations/oauth</code> with a class that inherits from <code>core.integrations.oauth.integration_oauth.IntegrationOAuth</code>. Crucially, you will need to implement at least the following methods.</p>
<ul>
<li>
<p>Override <code>_perform_token_refresh(...)</code>.  This method defines the refresh workflow for a token refresh for apps that have been authenticated before, but whose access token has expired. The method is highly dependent on the integration you're integrating. In general, however, the method should call the refresh URL of the OAuth app and update the existing OAuth token information with the new one.</p>
</li>
<li>
<p>Override <code>_store_oauth_token(...)</code>. This method stores the OAuth token information as an <code>IntegrationAccess</code> object in the  database. This is a relatively simple operation, but can depend on the specific OAuth app.</p>
</li>
</ul>
<p>When you set up your OAuth app on the side of the provider,  you will be asked to provide the Callback URL, to which the OAuth server redirects you to after authorization. <code>IntegrationOAuth</code> autogenerates these URLs following the pattern <code>http://&lt;host&gt;/integration/&lt;integration_name&gt;/callback</code>.  Note that the integration name is put to lower case. </p>
<p>Similarly, <code>IntegrationOAuth</code> autogenerates the URL that your client can call to perform the login to the OAuth app. The login URL follows the pattern <code>http://&lt;host&gt;/integration/&lt;integration_name&gt;/login</code>.</p>
<p>Now, create an instance of this class in the same file, which will be used by other parts of the application as appropriate. On this instance, call the <code>register_oauth_app</code> method, which is used to configure the OAuth app through the authlib starlette client. The method takes the same arguments as<br />
<code>authlib.integrations.starlette_client.OAuth.register</code>.
See the <a href="https://docs.authlib.org/en/v0.13/client/frameworks.html#using-oauth-2-0-to-log-in">authlib documentation</a> for details on what to pass to the method.  After registering, the OAuth app is available as an instance variable as IntegrationAccess.oauth_app.</p>
<p>Lastly, you need to create the FastAPI routes for the OAuth login and callback. The body of these functions is already implemented in <code>IntegrationOAuth</code>, you only have to define the routes using the instance created in the previous step. Assuming your instance is called <code>xxx</code>, add the following to the bottom of the file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nd">@xxx</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">xxx</span><span class="o">.</span><span class="n">login_endpoint</span><span class="p">())</span>  
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">login_route</span><span class="p">(</span>  
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">workspace_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span>  
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">current_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user_url</span><span class="p">),</span>  
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">):</span>  
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">return</span> <span class="k">await</span> <span class="n">xxx</span><span class="o">.</span><span class="n">oauth_login</span><span class="p">(</span><span class="n">workspace_id</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">current_user</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="nd">@xxx</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">xxx</span><span class="o">.</span><span class="n">callback_endpoint</span><span class="p">())</span>  
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">callback_route</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">):</span>  
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="k">return</span> <span class="k">await</span> <span class="n">xxx</span><span class="o">.</span><span class="n">oauth_callback</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>It is highly recommended to use the code generator script described above to generate this starter file automatically.</p>
</blockquote>
<p>With this, your clients can now connect to the integration by visiting the <code>http://&lt;host&gt;/integration/&lt;integration_name&gt;/login</code> endpoint.</p>
<blockquote>
<p>When the client accesses one of these endpoints, the OAuth (to authenticate with the Zebbra API) does not work via the usual authorization header. Rather the client has to specify the <code>access_token</code> query parameter, which should contain the Zebbra OAuth access token normally sent in the header. For example, a client might call call the following URL: </p>
<p><code>http://localhost:8000/integration/xero/login?workspace_id=123&amp;access_token=a1b2c3</code>.</p>
</blockquote>
<h3 id="3-adding-fetch-adapter">3. Adding fetch adapter</h3>
<p>With the OAuth authorization flow set up, we can implement the fetch adapter, which is responsible for fetching the data from the integrated app. As before, we provide an abstract class <code>core.integrations.adapters.adapter.FetchAdapter</code>, which should be inherited from by a class that implements its abstract methods.</p>
<p>Fetch adapters differ slightly depending if the API is a payroll vs an accounting API. In either case, create a new file in <code>core/integrations/adapters</code> and add a class that inherits from <code>FetchAdapter</code>. You will have to override at least the following methods:</p>
<ul>
<li>
<p>Implement the <code>get_data</code> method, which is the main method called during the merging procedure where the  integration data is added to the models.  The method implement the  process to retrieve the data from the integration API or a cache. Then, in the case of an accounting API the data is converted into a DataBatch object. In the case of a payroll API, a list of Employee objects is created and returned.</p>
</li>
<li>
<p>Implement the <code>get_data_endpoints</code> method, which returns a list of available data endpoints for the integration. The method usually makes a call to the integration API to retrieve the available endpoints. This data can easily be cached, and given the frequency with which this endpoint is called, implementing caching greatly improves performance.</p>
</li>
</ul>
<blockquote>
<p>It is highly recommended to use the code generator script described above to generate this starter file automatically.</p>
</blockquote>
<h3 id="4-update-config">4. Update config</h3>
<p>At this stage, all core classes have now been implemented. What remains is to let the rest of the application now about the new integrations. This happens via a few additions to the <code>core/integrations/config.py</code> file.</p>
<p>Add the following lines to the <code>setup_integrations</code> function inside the file.
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">def</span> <span class="nf">setup_integrations</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">FastAPI</span><span class="p">):</span>  
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="c1"># register the FetchAdapter implementation *class* here  </span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="n">_register_adapter</span><span class="p">(</span><span class="n">XeroFetchAdapter</span><span class="p">)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="n">_register_adapter</span><span class="p">(</span><span class="n">MyNewIntegrationFetchAdapter</span><span class="p">)</span>  <span class="c1"># ADD THIS</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="c1"># register the IntegrationOAuth implementation *instance* here </span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="n">_register_oauth</span><span class="p">(</span><span class="n">xero_integration_oauth</span><span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">_register_oauth</span><span class="p">(</span><span class="n">my_new_integration_oauth_instance</span><span class="p">)</span>  <span class="c1"># ADD THIS</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="o">...</span>
</code></pre></div></p>
<p>What happens here, is that the <code>_register_adapter</code> function keeps track of the <code>FetchAdapter</code> implementation <strong>classes</strong>, while the <code>_regiter_oauth</code> function keeps track of the <strong>instances</strong> of the <code>IntegrationOAuth</code> implementations.</p>
<p>This <code>setup_integrations</code> function is then automatically called during the setup of the app and registers the integration for consideration during calls to the Zebbra API.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf534bf.min.js"></script>
      
    
  </body>
</html>